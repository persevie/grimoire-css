# v1.7.1 Scryforge Hotfix

Grimoire CSS v1.7.1 is a small **stability patch** on top of **Scryforge**. It fixes a parser edge case where templated spell detection could accidentally match `g!…;` across token boundaries in certain code patterns (notably Rust macros like `debug!`).

## Key Highlights

- **Safer `g!…;` detection**: templated spells are only collected at token boundaries to avoid false positives.
- **Better mixed-code parsing**: reduces accidental spell collection when scanning Rust/JS/TS sources that contain macro-like identifiers.
- **No migration required**: no config changes, same output for valid inputs.

## Full Details

### Templated Spell Boundary Fix

The templated-spell matcher now requires a non-identifier boundary before `g!…;` (or start-of-content). This prevents cases where a preceding character sequence could cause `g!` detection to fire inside unrelated tokens.

A regression test was added to ensure Grimoire CSS does not collect templated spells from Rust macro invocations ending with `g` (e.g. `log::debug!(...)`).

## Migration Notes

- No action needed. If you previously hit unexpected spell extraction in mixed Rust code, upgrading to v1.7.1 should fix it.
